var table=$("#table").stonktable();table.bind("aftertablesort",function(e,t){var n=$(this).find("th");n.find(".arrow").remove();var r="asc"===t.direction?"↑":"↓";n.eq(t.column).append('<span class="arrow">'+r+"</span>")});var SendSearch=document.addEventListener("DOMContentReady",function(){document.getElementById("doSearch").addEventListener("click",SendSearch)});function sort_by_key(e,t){return e.sort(function(e,n){var r=e[t],o=n[t];return r<o?-1:r>o?1:0})}function autocomplete(e,t){var n;function r(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),n>=e.length&&(n=0),n<0&&(n=e.length-1),e[n].classList.add("autocomplete-active")}function o(t){for(var n=document.getElementsByClassName("autocomplete-items"),r=0;r<n.length;r++)t!=n[r]&&t!=e&&n[r].parentNode.removeChild(n[r])}e.addEventListener("input",function(r){var a,s,i,l=this.value.toUpperCase();if(o(),l.length<2)return!1;n=-1,(a=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),a.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(a);var p=[...t],d=l.split(" ");for(i=0;i<d.length;i++)for(var u=p.length-1;u>=0;u--)if(""!=l[i]){var c=p[u].toUpperCase(),f=d[i].toUpperCase();-1==c.indexOf(f)&&p.splice(u,1)}for(""==l.trim()&&(p=[]),i=0;i<p.length;i++){if(s=document.createElement("DIV"),d.length>1){for(u=d.length-1;u>=0;u--)""==d[u]&&d.splice(u,1);d=[...new Set(d)];var g=[];for(u=0;u<d.length;u++){for(var h=!1,v=0;v<d.length;v++)u!=v&&d[v].toUpperCase().indexOf(d[u].toUpperCase())>-1&&(h=!0);0==h&&g.push(d[u])}for(d=g,g=[],u=0;u<d.length;u++){var m=p[i].toUpperCase().indexOf(d[u].toUpperCase());g.push({idx:m,val:d[u]})}var C=sort_by_key(g,"idx");for(d=[],u=0;u<C.length;u++)d.push(C[u].val);for(s.innerHTML+=p[i].substr(0,p[i].toUpperCase().indexOf(d[0].toUpperCase())),s.innerHTML+="<strong style='color:blue;'>"+p[i].substr(p[i].toUpperCase().indexOf(d[0].toUpperCase()),d[0].length)+"</strong>",u=1;u<d.length;u++)s.innerHTML+=p[i].substring(p[i].toUpperCase().indexOf(d[u-1].toUpperCase())+d[u-1].length,p[i].toUpperCase().indexOf(d[u].toUpperCase())),s.innerHTML+="<strong style='color:blue;'>"+p[i].substr(p[i].toUpperCase().indexOf(d[u].toUpperCase()),d[u].length)+"</strong>";s.innerHTML+=p[i].substr(p[i].toUpperCase().indexOf(d[d.length-1].toUpperCase())+d[d.length-1].length)}else if(1==d.length)for(s.innerHTML+=p[i].substr(0,p[i].toUpperCase().indexOf(d[0].toUpperCase())),u=0;u<d.length;u++)s.innerHTML+="<strong style='color:blue;'>"+p[i].substr(p[i].toUpperCase().indexOf(d[0].toUpperCase()),d[0].length)+"</strong>",s.innerHTML+=p[i].substr(p[i].toUpperCase().indexOf(d[0].toUpperCase())+d[0].length);s.innerHTML+="<input type='hidden' value='"+p[i]+"'>",s.addEventListener("click",function(t){e.value=this.getElementsByTagName("input")[0].value,o()}),a.appendChild(s)}}),e.addEventListener("keydown",function(e){var t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(n++,r(t)):38==e.keyCode?(n--,r(t)):13==e.keyCode&&(e.preventDefault(),n>-1&&t&&t[n].click())}),document.addEventListener("click",function(e){o(e.target)})}autocomplete(document.getElementById("platform"),window.localStorage.arr_platform.split("___"));