!function(t){t.fn.stonktable=function(r){return this.each(function(){var n=t(this);r=r||{},r=t.extend({},{"int":function(t,r){return parseInt(t,10)-parseInt(r,10)},"float":function(t,r){return parseFloat(t)-parseFloat(r)},string:function(t,r){return r>t?-1:t>r?1:0},"string-ins":function(t,r){return t=t.toLowerCase(),r=r.toLowerCase(),r>t?-1:t>r?1:0}},r),n.on("click","th",function(){var e=n.children("tbody").children("tr"),a=t(this),s=0,i=t.fn.stonktable.dir;n.find("th").slice(0,a.index()).each(function(){var r=t(this).attr("colspan")||1;s+=parseInt(r,10)});var o=a.data("sort-dir")===i.ASC?i.DESC:i.ASC,d=o==i.DESC?a.data("sort-desc")||a.data("sort")||null:a.data("sort")||null;null!==d&&(n.trigger("beforetablesort",{column:s,direction:o}),n.css("display"),setTimeout(function(){var i=[],c=r[d];e.each(function(r,n){var e=t(n).children().eq(s),a=e.data("sort-value"),e="undefined"!=typeof a?a:e.text();i.push(e)});var l=[],u=0;if(a.data("sort-dir")&&!a.data("sort-desc"))for(c=i.length-1;c>=0;c--)l.push(c);else for(var f=i.slice(0).sort(c),c=0;c<i.length;c++){for(u=t.inArray(i[c],f);-1!=t.inArray(u,l);)u++;l.push(u)}for(n.find("th").data("sort-dir",null).removeClass("sorting-desc sorting-asc"),a.data("sort-dir",o).addClass("sorting-"+o),u=e.slice(0),f=c=0;f<l.length;f++)c=l[f],u[c]=e[f];l=t(u),n.children("tbody").append(l),n.trigger("aftertablesort",{column:s,direction:o}),n.css("display")},10))})})},t.fn.stonktable.dir={ASC:"asc",DESC:"desc"}}(jQuery);